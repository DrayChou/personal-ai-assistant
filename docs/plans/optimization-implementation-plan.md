# æ¶æ„ä¼˜åŒ–å®æ–½è§„åˆ’

## é¡¹ç›®ä¿¡æ¯
- **è§„åˆ’æ—¥æœŸ**: 2026-02-25
- **é¢„æœŸå‘¨æœŸ**: 8 å‘¨
- **ç›®æ ‡ä»£ç è¡Œæ•°**: 22,443 â†’ 12,000 (-46%)

---

## ä»»åŠ¡è¿½è¸ª

### Phase 1: æ¸…ç†å†—ä½™ä»£ç  (Week 1-2)

| ä»»åŠ¡ID | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| #53 | åˆ é™¤ agent_v2/ ç›®å½• | ğŸ”´ å¾…å¼€å§‹ | P0 |
| #52 | åˆ é™¤ AIIntentClassifier | ğŸ”´ å¾…å¼€å§‹ | P0 |
| #51 | åˆå¹¶åŒé…ç½®ç³»ç»Ÿ | ğŸ”´ å¾…å¼€å§‹ | P0 |
| #50 | å½’æ¡£æœªä½¿ç”¨åŸºç¡€è®¾æ–½ | ğŸ”´ å¾…å¼€å§‹ | P0 |

**Phase 1 ç›®æ ‡**: åˆ é™¤ ~5,572 è¡Œä»£ç 

---

### Phase 2: ç®€åŒ–è®°å¿†ç³»ç»Ÿ (Week 3)

| ä»»åŠ¡ID | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| #49 | åˆ é™¤ ShortTermMemory | ğŸ”´ å¾…å¼€å§‹ | P1 |
| #56 | ç®€åŒ–æ£€ç´¢é€»è¾‘ | ğŸ”´ å¾…å¼€å§‹ | P1 |

**Phase 2 ç›®æ ‡**: ç®€åŒ–è®°å¿†æ¶æ„ï¼Œæå‡æ€§èƒ½

---

### Phase 3: é‡æ„æ„å›¾è¯†åˆ« & Agent æ ¸å¿ƒ (Week 4-5)

| ä»»åŠ¡ID | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| #48 | ç®€åŒ– SupervisorAgent | ğŸ”´ å¾…å¼€å§‹ | P1 |
| #54 | å¼•å…¥ ContextBuilder | ğŸ”´ å¾…å¼€å§‹ | P1 |
| #58 | å®ç° LLM-First æ„å›¾è¯†åˆ« | ğŸ”´ å¾…å¼€å§‹ | P0 |

**Phase 3 ç›®æ ‡**:
- åˆ é™¤ IntentClassifier / SemanticIntentRouter / AIIntentClassifier
- å®ç° SimpleIntentHandlerï¼ˆä»…ä¿ç•™ç¡®è®¤/å–æ¶ˆæ£€æŸ¥ï¼‰
- è®© LLM è‡ªå·±å†³å®šå·¥å…·é€‰æ‹©
- ä»£ç å‡å°‘ ~1,353 è¡Œ

**æ–°æ¶æ„**: [æ„å›¾è¯†åˆ«é‡æ„æ–¹æ¡ˆ](./intent-recognition-redesign.md)

---

### Phase 4: Skills ç³»ç»Ÿ (Week 6-7)

| ä»»åŠ¡ID | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| #55 | è®¾è®¡ Skills æ¶æ„ | ğŸ”´ å¾…å¼€å§‹ | P2 |

**Phase 4 ç›®æ ‡**: å¼•å…¥å¯é…ç½®çš„èƒ½åŠ›å®šä¹‰

---

### Phase 5: æ•´åˆæµ‹è¯• (Week 8)

| ä»»åŠ¡ID | ä»»åŠ¡ | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|--------|------|------|--------|
| #57 | æ•´åˆæµ‹è¯•ä¸ä¼˜åŒ– | ğŸ”´ å¾…å¼€å§‹ | P1 |

**Phase 5 ç›®æ ‡**: ç¡®ä¿è´¨é‡å’Œæ€§èƒ½è¾¾æ ‡

---

## è¯¦ç»†å®æ–½æ­¥éª¤

### Phase 1 è¯¦ç»†æ­¥éª¤

#### Step 1: åˆ é™¤ agent_v2/
```bash
# 1. ç¡®è®¤æ— å¼•ç”¨
grep -r "agent_v2" src/ --include="*.py"

# 2. åˆ é™¤ç›®å½•
rm -rf src/agent_v2/

# 3. éªŒè¯å¯åŠ¨
python src/main.py
```

#### Step 2: åˆ é™¤ AIIntentClassifier
```bash
# 1. å¤‡ä»½
cp src/chat/ai_intent_classifier.py /tmp/

# 2. åˆ é™¤
rm src/chat/ai_intent_classifier.py

# 3. æ›´æ–°å¼•ç”¨
# ä¿®æ”¹ semantic_router.py æ·»åŠ å¿…è¦çš„ fallback é€»è¾‘
```

#### Step 3: åˆå¹¶é…ç½®ç³»ç»Ÿ
```python
# ä¿®æ”¹ config/settings.py
# å°† Settings æ”¹ä¸º ConfigManager çš„åŒ…è£…å™¨
```

#### Step 4: å½’æ¡£åŸºç¡€è®¾æ–½
```bash
# 1. åˆ›å»ºå½’æ¡£åˆ†æ”¯
git checkout -b archive/legacy-infrastructure

# 2. å½’æ¡£
git rm -rf src/gateway/ src/channel/ src/infra/
git commit -m "archive: å°†æœªä½¿ç”¨åŸºç¡€è®¾æ–½ç§»è‡³å½’æ¡£åˆ†æ”¯"

# 3. è¿”å› master
git checkout master
git merge archive/legacy-infrastructure --no-ff
```

---

## éªŒæ”¶æ ‡å‡†

### ä»£ç å±‚é¢
- [ ] ä»£ç è¡Œæ•°å‡å°‘ 40%+
- [ ] æ— é‡å¤å®šä¹‰
- [ ] æ— æœªä½¿ç”¨å¯¼å…¥
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

### åŠŸèƒ½å±‚é¢
- [ ] ä»»åŠ¡ç®¡ç†æ­£å¸¸
- [ ] è®°å¿†æ£€ç´¢æ­£å¸¸
- [ ] äººæ ¼ç³»ç»Ÿæ­£å¸¸
- [ ] ç¡®è®¤æµç¨‹æ­£å¸¸

### æ€§èƒ½å±‚é¢
- [ ] ç®€å•é—®å€™ < 50ms
- [ ] ä»»åŠ¡æŸ¥è¯¢ < 200ms
- [ ] è®°å¿†æ£€ç´¢ < 300ms
- [ ] å·¥å…·è°ƒç”¨ < 500ms

---

## é£é™©ä¸åº”å¯¹

| é£é™© | æ¦‚ç‡ | åº”å¯¹ç­–ç•¥ |
|------|------|----------|
| åŠŸèƒ½å›å½’ | ä¸­ | æ¯æ­¥éƒ½æœ‰å®Œæ•´æµ‹è¯• |
| æ€§èƒ½ä¸‹é™ | ä½ | åŸºå‡†æµ‹è¯•ç›‘æ§ |
| æ•°æ®ä¸¢å¤± | ä½ | å¤‡ä»½ç­–ç•¥ |

---

## å¤‡æ³¨

- æ¯ä¸ª Phase å®Œæˆåè¿›è¡Œè¯„å®¡
- ä¿ç•™å›æ»šèƒ½åŠ›
- æ–‡æ¡£åŒæ­¥æ›´æ–°
